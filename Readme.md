# Проект «Кексобукинг»

[![build status](https://github.com/sFlcn/keksobooking/actions/workflows/check-and-deploy.yml/badge.svg)](https://github.com/sFlcn/keksobooking/actions/workflows/check-and-deploy.yml)

Учебный проект, реализованный во время обучения на курсе [HTML Academy](https://htmlacademy.ru) по JavaScript.

Разрабатывался с помощью *Webpack 5* в *Node.js 12* (обновлён до 16 позднее), использована библиотека *Leaflet*. После окончания курса был немного расширен функционал: добавлена возможность просмотра фото в увеличенном размере по клику, имитация отправки пользовательского объявления и последующего его просмотра, настроен *github-action* для автоматической развёртки на [github-pages](https://sflcn.github.io/keksobooking/) и обновлены зависимости проекта.

![JavaScript](https://img.shields.io/badge/JavaScript-informational?style=flat&logo=JavaScript&logoColor=f7df1e&color=d3d3d3)
![JSON](https://img.shields.io/badge/JSON-informational?style=flat&logo=JSON&logoColor=000000&color=d3d3d3)
![Leaflet](https://img.shields.io/badge/Leaflet-informational?style=flat&logo=Leaflet&logoColor=199900&color=d3d3d3)
![Node.js](https://img.shields.io/badge/Node.js-informational?style=flat&logo=Node.js&logoColor=339933&color=d3d3d3)
![Webpack](https://img.shields.io/badge/Webpack-informational?style=flat&logo=Webpack&logoColor=8dd6f9&color=d3d3d3)

---

## Разработка

- Установка зависимостей: `npm install`
- Сборка: `npm run build`
- Запуск локального сервера: `npm start`

---

## Техническое задание

### О проекте

Кексобукинг — сервис размещения объявлений о сдаче в аренду недвижимости в центре Токио. Пользователям предоставляется возможность размещать объявления о своей недвижимости или просматривать уже размещённые объявления.

### Функционал

- При открытии страница находится в неактивном состоянии.
- Загрузка и успешная инициализация карты (карта реализуется сторонней библиотекой Leaflet) переводит страницу в активное состояние. В активном состоянии страница позволяет вносить изменения в форму и отправлять её на сервер. После загрузки данных с сервера можно просматривать похожие объявления на карте, фильтровать их и уточнять подробную информацию о них, показывая для каждого из объявлений карточку.

#### Заполнение информации

- Заполнение всей информации производится на одной странице без промежуточных переходов.
- После заполнения всех данных, при нажатии на кнопку «Опубликовать», все данные из формы, включая изображения, с помощью AJAX-запроса отправляются на сервер методом POST.
- Страница реагирует на неправильно введённые значения в форму. С неправильно заполненными данными отправки не происходит, проблемные поля подсвечиваются.
- При успешной отправке формы или её очистке страница, не перезагружаясь, переходит в "сброшенное" состояние.
- Если отправка данных прошла успешно, показывается соответствующее сообщение. Сообщение должно исчезать по нажатию на клавишу Esc и по клику на произвольную область экрана.
- Если при отправке данных произошла ошибка запроса, показывается соответствующее сообщение, вся введённая пользователем информация сохраняется.

#### Выбор адреса на карте

- Адрес изменяется перемещением специальной метки по карте. Содержимое поля адреса должно всегда соответствовать координатам метки.

#### Сравнение с похожими объявлениями

- Полный список похожих объявлений загружается после перехода страницы в активное состояние.
- Если при загрузке данных с сервера произошла ошибка запроса, нужно показать соответствующее сообщение. Дизайн блока с сообщением нужно придумать самостоятельно.
- Каждое из объявлений показывается на карте в виде метки.
- При нажатии на метку похожего объявления, показывается балун (предоставляется API карт) с подробной информацией об объявлении — "карточка". Разметка карточки должна создаваться на основе шаблонного элемента. Если данных для заполнения не хватает, соответствующий блок в карточке скрывается.При отсутствии полей не должно возникать ошибок.
- Объекты, расположенные неподалёку, можно фильтровать. Фильтрация производится при изменении значений соответствующих полей формы.
- Как до изменения фильтров, так и при изменении фильтра, на карте должны показываться все подходящие варианты, но не более 10 меток.
- Форма, с помощью которой производится фильтрация похожих объявлений на момент открытия страницы заблокирована и становится доступной только после окончания загрузки всех похожих объявлений, которые в свою очередь начинают загружаться только после загрузки и успешной инициализации карты.
- Отрисовка соответствующих выбранным фильтрам меток должна происходить не чаще, чем раз в полсекунды (устранение дребезга).

#### Дополнительный функционал

- В форме подачи объявления показывается превью аватарки пользователя и фотографии помещения при изменении значений соответствующих полей.

---

Репозиторий создан в рамках обучения на профессиональном онлайн‑курсе «[JavaScript. Профессиональная разработка веб-интерфейсов](https://htmlacademy.ru/intensive/javascript)» от [HTML Academy](https://htmlacademy.ru).
